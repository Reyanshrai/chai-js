<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body{
        background-color: black;
        color: white;
    }
    button{
        background-color: red;
        color: white;
        width: 100px;
        height:30px;
        border-radius: 10px;
        position:absolute;
        top:50%;
        left: 50%;
        transform: translate(-50%,-50%);
    }
</style>
<body>
    <button id="button">Show Me</button>
</body>
<script>
    let image_url;
    let followers;
    const requestUrl = 'https://api.github.com/users/hiteshchoudhary';
    const xhr = new XMLHttpRequest();
    xhr.open('GET',requestUrl);
    xhr.onreadystatechange = function(){
        console.log(xhr.readyState)
        if(xhr.readyState===4){
            const data = JSON.parse(this.responseText);
            // console.log(data)
            image_url = data.avatar_url;
            followers = data.followers;
        }
    };
    xhr.send();



   

    const div = document.createElement('div');
    div.className = 'btn';
    div.style.width = '450px';
    div.style.height = '450px';
    div.style.border = '2px solid red';
    div.style.marginLeft='500px'
    
    
    
    
    
    const body = document.querySelector('body');
    const button = document.querySelector('#button');
    button.style.marginTop = '100px'
    
    function showPic(){
        // console.log(image_url) 
        // console.log(followers) 
        document.body.style.backgroundImage = `url(${image_url}`;
        document.body.appendChild(div);
        // div.innerText= 'Total Followers' 
        const p = document.createTextNode(` ${followers}`)
        document.body.appendChild(p)
        // p.style.marginLeft='500px'
    }
    // console.log(showPic())

    button.addEventListener('click',()=>{
        showPic()
    })


    //////////////////////////////////////




//     let image_url;
// let followers;
// const requestUrl = 'https://api.github.com/users/hiteshchoudhary';
// const xhr = new XMLHttpRequest();
// xhr.open('GET', requestUrl);
// xhr.onreadystatechange = function () {
//     if (xhr.readyState === 4 && xhr.status === 200) {
//         const data = JSON.parse(this.responseText);
//         image_url = data.avatar_url;
//         followers = data.followers;
//     }
// };
// xhr.send();

// const div = document.createElement('div');
// div.className = 'btn';
// div.style.width = '100px';
// div.style.height = '100px';
// div.style.border = '2px solid red';

// const body = document.querySelector('body');
// const button = document.querySelector('#button');

// function showPic() {
//     if (image_url && followers !== undefined) {
//         document.body.style.backgroundImage = `url(${image_url})`;
//         document.body.appendChild(div);
//         const p = document.createElement('p');
//         p.textContent = `Total Followers: ${followers}`;
//         document.body.appendChild(p);
//     } else {
//         console.log('Data not yet loaded');
//     }
// }

// button.addEventListener('click', () => {
//     showPic();
// });

</script>
</html>